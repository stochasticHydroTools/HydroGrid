# Compile with boost-1.63 or newer

# Point to the source code directory for HydroGrid:
SRC_HYDROLIB=../src

# Note that option -fPIC is important for python linking

# C/C++ compiler:
#------------------

# Choose optimization:
#COPT=-fPIC -g
COPT=-fPIC -O3

CCOMP=gcc $(COPT)
CC=$(CCOMP)
CPPC=$(CCOMP)
CXX=g++ $(COPT)  

# Fortran compiler:
# Note: We have to use gfortran>4.4 since we are using Fortran-C interop
#------------------
OPTIONS=-fPIC -ffree-line-length-none -Wall -Wno-unused
FCOMP=gfortran
FC_O=$(FCOMP) -O $(OPTIONS) # Optimized
FC_g=$(FCOMP) -g -fbounds-check $(OPTIONS) # Debugging
FC_C=$(FC) # Mixed language linking is more complicated

# Choose level of optimization:
FC=$(FC_O) # Optimized
#FC=$(FC_g) # Debugging

# For linking the right libraries in:
LIBRARIES = -L/usr/lib64/
#LIBRARIES =  -Wl,-rpath=/usr/local/stow/gcc-6.3.0/lib64 -L/usr/local/stow/gcc-6.3.0/lib64 -L/usr/lib64/
# LIBRARIES += -lgsl -lgslcblas # If using the GSL
LIBRARIES += -lfftw3 -lfftw3f -lm -lgfortran 

#------------------
# Python

# Set Python version
PYTHON_VERSION = 3.6m
PYTHON_DIR = /home/fbalboausabiaga/.anaconda3
PYTHON_INCLUDE = $(PYTHON_DIR)/include/python$(PYTHON_VERSION)
PYTHON_LIB = $(PYTHON_DIR)/lib

# location of the Boost Python include files and library
BOOST_INC = /home/fbalboausabiaga/.anaconda3/include
BOOST_LIB = /home/fbalboausabiaga/.anaconda3/lib
LIBRARIES += -Wl,-rpath=/home/fbalboausabiaga/.anaconda3/lib

# # location of the Python header files
# PYTHON_VERSION = 2.7
# PYTHON_DIR = /usr
# PYTHON_INCLUDE = $(PYTHON_DIR)/include/python$(PYTHON_VERSION)
# PYTHON_LIB = $(PYTHON_DIR)/lib/python$(PYTHON_VERSION)/config/

# # location of the Boost Python include files and library
# BOOST_INC = /usr/include/boost
# BOOST_LIB = /usr/lib

# # Set Python version
# PYTHON_VERSION = 3.6m
# PYTHON_DIR = /home/fbalboausabiaga/.anaconda3/envs/py3.6-exp
# PYTHON_INCLUDE = $(PYTHON_DIR)/include/python$(PYTHON_VERSION)
# PYTHON_LIB = $(PYTHON_DIR)/lib/

# # location of the Boost Python include files and library
# BOOST_INC = /home/fbalboausabiaga/.anaconda3/envs/py3.6-exp/include
# BOOST_LIB = /home/fbalboausabiaga/.anaconda3/envs/py3.6-exp/lib


# location of the Python header files
# PYTHON_VERSION = 2.7
# PYTHON_DIR = /home/fbalboausabiaga/.anaconda3/envs/py2.7-exp
# PYTHON_INCLUDE = $(PYTHON_DIR)/include/python$(PYTHON_VERSION)
# PYTHON_LIB = $(PYTHON_DIR)/lib/python$(PYTHON_VERSION)/config

# location of the Boost Python include files and library
# BOOST_INC = /home/fbalboausabiaga/.anaconda3/envs/py2.7-exp/include
# BOOST_LIB = /home/fbalboausabiaga/.anaconda3/envs/py2.7-exp/lib
# BOOST_INC = /usr/include/boost
# BOOST_LIB = /usr/lib
# BOOST_INC = /home/fbalboausabiaga/sfw/boost/1.68/include
# BOOST_LIB = /home/fbalboausabiaga/sfw/boost/1.68/lib

